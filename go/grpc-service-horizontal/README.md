# grpc-service-horizontal

This is intended to be used as a template for scaffolding a new service.

This is an example of a service that the service domain is sliced **horizontally**.
You can find a more in-depth discussion about different ways of slicing the service domain [here](../../README.md#slicing-your-domain).

## Features and Specs

Supported features:

  - RPC API
  - Containerized
  - Health Checks
  - Graceful Shutdown
  - Logging, Metrics, and Tracing

| Specifications | Technologies |
|----------------|------------|
| Programming Language | [Go](https://golang.org) |
| Containerization | [Docker](https://www.docker.com) |
| Transport/Wire Protocol | [Protocol Buffers](https://developers.google.com/protocol-buffers) |
| Interface Description/Definition Language (IDL) | [gRPC](https://grpc.io) |
| Observability (*Logging*, *Metrics*, and *Tracing*) | [OpenTelemetry](https://opentelemetry.io) |

## API

| Endpoint | Description |
|----------|-------------|
| `GreetingService::Greet` | Creates and returns a greeting for a given name. |

## Development

### Make

| Rule | Description |
|------|-------------|
| `test` | Runs the unit tests with `-race` flag. |
| `test-short` | Runs the unit tests with `-short` flag. |
| `test-coverage` | Runs the unit tests and generates coverage reports (`c.out` and `coverage.html`). |
| `clean-test` | Deletes files generated by tests. |
| `run` | Runs the application. |
| `build` | Builds the application binary. |
| `build-all` | Builds the application binary for all supported platforms. |
| `clean-build` | Deletes built binaries. |
| `docker` | Builds the Docker image. |
| `docker-test` | Builds the test Docker image. |
| `push` | Pushes the built Docker image to container registry. |
| `push-latest` | Tags the built Docker image as latest and pushes it to container registry. |
| `save-docker` | Saves the built Docker image to the disk. |
| `load-docker` | Loads the Docker image from the disk. |
| `clean-docker` | Deletes the saved Docker image from the disk. |
| `protoc` | Installs the latest version of Protocol Buffers compiler. |
| `protoc-gen-go` | Installs the latest version of Protocol Buffers plugin for Go. |
| `protobuf` | Generates Go codes for the `.proto` files in `idl` directory. |

### Docker Compose

| Command | Description |
|---------|-------------|
| `docker compose up -d service` | Brings up the service in a Docker container. |
| `docker compose run unit-test` | Runs the unit tests in a Docker container. |
| `docker compose down` | Removes all containers spun up by the `docker compose` command. |
